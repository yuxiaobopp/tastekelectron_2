(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21094d"],{b900:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80}},[r("FormItem",{attrs:{label:"设备名",prop:"name"}},[r("Input",{staticStyle:{width:"50%"},attrs:{placeholder:"设备名必须唯一"},model:{value:e.formValidate.name,callback:function(t){e.$set(e.formValidate,"name",t)},expression:"formValidate.name"}})],1),r("FormItem",{attrs:{label:"描述",prop:"description"}},[r("Input",{staticStyle:{width:"50%"},attrs:{type:"textarea",rows:4,placeholder:"请输入设备描述"},model:{value:e.formValidate.description,callback:function(t){e.$set(e.formValidate,"description",t)},expression:"formValidate.description"}})],1),r("FormItem",{attrs:{label:"设备地址",prop:"slave"}},[r("Input",{staticStyle:{width:"50%"},attrs:{number:"",placeholder:"可输入1-247之间的整数值"},model:{value:e.formValidate.slave,callback:function(t){e.$set(e.formValidate,"slave",t)},expression:"formValidate.slave"}})],1),r("FormItem",{attrs:{label:"ip地址",prop:"ip"}},[r("Input",{staticStyle:{width:"50%"},attrs:{placeholder:"请输入正确的IP地址：例如：192.168.1.10"},model:{value:e.formValidate.ip,callback:function(t){e.$set(e.formValidate,"ip",t)},expression:"formValidate.ip"}})],1),r("FormItem",{attrs:{label:"端口号",prop:"port",placeholder:"例如：502"}},[r("Input",{staticStyle:{width:"50%"},attrs:{number:""},model:{value:e.formValidate.port,callback:function(t){e.$set(e.formValidate,"port",t)},expression:"formValidate.port"}})],1),r("FormItem",[e.edit?e._e():r("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("确认")]),e.edit?r("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("修改")]):e._e(),r("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleReset("formValidate")}}},[e._v("重置")])],1)],1)},i=[],o=(r("7f7f"),r("66df")),l={name:"add_tcp",data:function(){var e=function(e,t,r){var a=/(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})(\.(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})){3}/g;""===t?r(new Error("Please enter your ip")):a.test(t)?r():r(new Error("Please enter correct ip"))},t=function(e,t,r){t-=0,t||r(new Error("please enter correct address(1-247)")),t<0||t>247?r(new Error("please enter correct address(1-247)")):r()},r=function(e,t,r){t-=0,t?t<0||t>65535?r(new Error("please enter correct port(1-65535)")):r():r(new Error("please enter correct port(1-65535)"))};return{edit:!1,formValidate:{name:"",edit_name:"",description:"",ip:"127.0.0.1",port:null,slave:"",gateway_name:this.$store.state.current_gateway},ruleValidate:{name:[{required:!0,message:"The name cannot be empty",trigger:"blur"}],description:[{required:!1,message:"Mailbox cannot be empty",trigger:"blur"}],ip:[{required:!0,validator:e,trigger:"blur"}],port:[{required:!0,validator:r,trigger:"blur"}],slave:[{required:!0,validator:t,trigger:"blur"}]}}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?o["a"].request({url:"api/device/create_tcp",method:"post",data:t.formValidate}).then(function(e){console.log(e.data),"ok"==e.data.msg?(t.$Notice.success({title:"Note:",desc:"成功"}),t.$router.push("/device/device_manage")):t.$Notice.error({title:"Note:",desc:"创建失败！"})}).catch(function(e){console.log(e),t.$Notice.error({title:"Notification title",desc:"创建失败！"})}):t.$Message.error("请填写正确参数!")})},handleReset:function(e){this.$refs[e].resetFields()}},mounted:function(){var e=this.$route.query;console.log("参数：",e),e&&(this.formValidate.edit_name=e.name,this.formValidate.name=e.name,this.formValidate.description=e.description,this.formValidate.ip="127.0.0.1",this.formValidate.port="502",this.formValidate.slave=e.slave,e.edit&&(this.edit=!0))}},n=l,s=r("2877"),d=Object(s["a"])(n,a,i,!1,null,null,null);t["default"]=d.exports}}]);