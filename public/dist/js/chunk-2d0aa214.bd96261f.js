(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0aa214"],{1065:function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"设备名",prop:"name"}},[a("Input",{staticStyle:{width:"50%"},attrs:{placeholder:"设备名必须唯一"},model:{value:e.formValidate.name,callback:function(t){e.$set(e.formValidate,"name",t)},expression:"formValidate.name"}})],1),a("FormItem",{attrs:{label:"描述",prop:"description"}},[a("Input",{staticStyle:{width:"50%"},attrs:{type:"textarea",rows:4,placeholder:"请输入设备描述"},model:{value:e.formValidate.description,callback:function(t){e.$set(e.formValidate,"description",t)},expression:"formValidate.description"}})],1),a("FormItem",{attrs:{label:"设备地址",prop:"slave"}},[a("Input",{staticStyle:{width:"50%"},attrs:{number:"",placeholder:"可输入1-247之间的整数值"},model:{value:e.formValidate.slave,callback:function(t){e.$set(e.formValidate,"slave",t)},expression:"formValidate.slave"}})],1),a("FormItem",{attrs:{label:"波特率",prop:"baudRate"}},[a("Select",{staticStyle:{width:"400px"},model:{value:e.formValidate.baudRate,callback:function(t){e.$set(e.formValidate,"baudRate",t)},expression:"formValidate.baudRate"}},e._l(e.baudRateList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),a("FormItem",{attrs:{label:"数据位",prop:"biteSize"}},[a("Select",{staticStyle:{width:"400px"},model:{value:e.formValidate.biteSize,callback:function(t){e.$set(e.formValidate,"biteSize",t)},expression:"formValidate.biteSize"}},e._l(e.biteSizeList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),a("FormItem",{attrs:{label:"校验",prop:"parity"}},[a("Select",{staticStyle:{width:"400px"},model:{value:e.formValidate.parity,callback:function(t){e.$set(e.formValidate,"parity",t)},expression:"formValidate.parity"}},e._l(e.parityList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),a("FormItem",{attrs:{label:"停止位",prop:"stopbits"}},[a("Select",{staticStyle:{width:"400px"},model:{value:e.formValidate.stopbits,callback:function(t){e.$set(e.formValidate,"stopbits",t)},expression:"formValidate.stopbits"}},e._l(e.stopbitsList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1),a("FormItem",[e.edit?e._e():a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("确认")]),e.edit?a("Button",{attrs:{type:"primary"},on:{click:function(t){return e.handleSubmit("formValidate")}}},[e._v("修改")]):e._e(),a("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){return e.handleReset("formValidate")}}},[e._v("重置")])],1)],1)},i=[],r=(a("7f7f"),a("66df")),o={name:"add_rtu",data:function(){var e=function(e,t,a){t-=0,t||a(new Error("please enter correct address(1-247)")),t<0||t>247?a(new Error("please enter correct address(1-247)")):a()};return{edit:!1,baudRateList:[{value:"300",label:"300"},{value:"600",label:"600"},{value:"1200",label:"1200"},{value:"1440",label:"1440"},{value:"2440",label:"2440"},{value:"4800",label:"4800"},{value:"9600",label:"9600"},{value:"19200",label:"19200"},{value:"38400",label:"38400"}],biteSizeList:[{value:8,label:8},{value:7,label:7}],parityList:[{value:"N",label:"无校验"},{value:"E",label:"奇校验"},{value:"O",label:"偶校验"},{value:"M",label:"Mark"},{value:"S",label:"Space"}],stopbitsList:[{value:1,label:1},{value:1.5,label:1.5},{value:2,label:2}],formValidate:{name:"",edit_name:"",description:"",baudRate:"9600",biteSize:8,parity:"N",stopbits:1,slave:"",gateway_name:this.$store.state.current_gateway},ruleValidate:{name:[{required:!0,message:"The name cannot be empty",trigger:"blur"}],baudRate:[{required:!0,message:"cannot be empty",trigger:"blur"}],parity:[{required:!0,message:"Cannot be empty",trigger:"blur"}],slave:[{required:!0,validator:e,trigger:"blur"}]}}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?r["a"].request({url:"api/device/create_rtu",method:"post",data:t.formValidate}).then(function(e){console.log(e.data),"ok"==e.data.msg?(t.$Notice.success({title:"Note:",desc:"成功"}),t.$router.push("/device/device_manage")):t.$Notice.error({title:"Note:",desc:"创建失败！"})}).catch(function(e){console.log(e),t.$Notice.error({title:"Notification title",desc:"创建失败！"})}):t.$Message.error("请填写正确参数!")})},handleReset:function(e){this.$refs[e].resetFields()}},mounted:function(){var e=this.$route.query;console.log("参数：",e),e&&(this.formValidate.edit_name=e.name,this.formValidate.name=e.name,this.formValidate.description=e.description,this.formValidate.slave=e.slave,e.edit&&(this.edit=!0))}},s=o,n=a("2877"),u=Object(n["a"])(s,l,i,!1,null,null,null);t["default"]=u.exports}}]);