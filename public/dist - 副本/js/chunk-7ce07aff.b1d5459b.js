(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ce07aff"],{1768:function(e,o,t){"use strict";t.r(o);var r=function(){var e=this,o=e._self._c;return o("div",{attrs:{id:"app-other"}},[e._m(0),o("a-form-model",{ref:"ruleForm",attrs:{model:e.form,rules:e.rules,"label-col":e.labelCol,"wrapper-col":e.wrapperCol}},[o("a-form-model-item",{ref:"comport",attrs:{label:"选择串口",prop:"comport"}},[o("a-select",{attrs:{id:"uart_comnum",placeholder:"请选择串口","show-search":""},model:{value:e.form.comport,callback:function(o){e.$set(e.form,"comport",o)},expression:"form.comport"}},e._l(e.comportlist,(function(t){return o("a-select-option",{key:t,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})),1),o("a-form-model-item",{attrs:{label:"",prop:"portopened"}},[o("a-switch",{model:{value:e.portopened,callback:function(o){e.portopened=o},expression:"portopened"}})],1)],1),o("a-form-model-item",{attrs:{label:"选择波特率"}},[o("a-select",{attrs:{placeholder:"请选择波特率","show-search":""},model:{value:e.form.combaud,callback:function(o){e.$set(e.form,"combaud",o)},expression:"form.combaud"}},e._l(e.combaudlist,(function(t){return o("a-select-option",{key:t,attrs:{value:t}},[e._v(" "+e._s(t)+" ")])})),1)],1),o("a-form-model-item",{attrs:{label:"选择数据位"}},[o("a-radio-group",{model:{value:e.form.comdata,callback:function(o){e.$set(e.form,"comdata",o)},expression:"form.comdata"}},[o("a-radio",{attrs:{value:"7"}},[e._v(" 7 ")]),o("a-radio",{attrs:{value:"8"}},[e._v(" 8 ")])],1)],1),o("a-form-model-item",{attrs:{label:"选择校验位"}},[o("a-radio-group",{model:{value:e.form.comparity,callback:function(o){e.$set(e.form,"comparity",o)},expression:"form.comparity"}},[o("a-radio",{attrs:{value:"none"}},[e._v(" None ")]),o("a-radio",{attrs:{value:"odd"}},[e._v(" Odd ")]),o("a-radio",{attrs:{value:"even"}},[e._v(" Even ")])],1)],1),o("a-form-model-item",{attrs:{label:"选择停止位"}},[o("a-radio-group",{model:{value:e.form.comstop,callback:function(o){e.$set(e.form,"comstop",o)},expression:"form.comstop"}},[o("a-radio",{attrs:{value:"1"}},[e._v(" 1 ")]),o("a-radio",{attrs:{value:"2"}},[e._v(" 2 ")])],1)],1),o("a-form-model-item",{attrs:{"wrapper-col":{span:14,offset:4}}},[o("a-button",{attrs:{type:"primary"},on:{click:e.onOpenPort}},[e._v(" 打开 ")]),o("a-button",{staticStyle:{"margin-left":"10px"},on:{click:e.onClosePort}},[e._v(" 关闭 ")]),o("a-button",{staticStyle:{"margin-left":"10px"},on:{click:e.onGetAllPort}},[e._v(" 刷新 ")]),o("a-button",{staticStyle:{"margin-left":"10px"},on:{click:e.resetForm}},[e._v(" 重置 ")])],1)],1)],1)},s=[function(){var e=this,o=e._self._c;return o("div",{staticClass:"one-block-1"},[o("span",[e._v(" 打开串口 ")])])}],a=(t("14d9"),t("7e9e")),l={data(){return{rules:{comport:[{required:!0,message:"请选择串口",trigger:"blur"}]},portopened:this.serialPorter.portopened,comportlist:["COM0"],combaudlist:["921600","460800","230400","115200","57600","38400","19200","14400","9600","4800","2400","1200"],labelCol:{span:4},wrapperCol:{span:14},form:{comport:"",combaud:"9600",comdata:"8",comparity:"none",comstop:"1"}}},computed:{},mounted(){this.init(),this.sendNotification(1)},methods:{resetForm(){this.$refs.ruleForm.resetFields()},init(){console.log(this.serialPorter.portopened),this.$ipc.removeAllListeners(a["tastekIpcApiRoute"].initSerialPort),this.$ipc.on(a["tastekIpcApiRoute"].initSerialPort,(e,o)=>{if(1==o)console.log("串口加载中");else{var t=[];"[object Array]"==Object.prototype.toString.call(o)&&(o.forEach((function(e){t.push(e.path)})),this.comportlist=t),console.log("串口加载完毕")}}),this.$ipc.removeAllListeners(a["tastekSpecialIpcRoute"].open_serial_success),this.$ipc.removeAllListeners(a["tastekSpecialIpcRoute"].close_serial_success),this.$ipc.removeAllListeners(a["tastekSpecialIpcRoute"].serial_open_error),this.$ipc.removeAllListeners(a["tastekSpecialIpcRoute"].serial_close_error);this.$ipc.on(a["tastekSpecialIpcRoute"].open_serial_success,(e,o)=>{console.log(o),this.portopened=!0,this.serialPorter.portopened=!0,this.serialPorter.portinfo=o}),this.$ipc.on(a["tastekSpecialIpcRoute"].close_serial_success,(e,o)=>{console.log(o),this.portopened=!1,this.serialPorter.portopened=!1}),this.$ipc.on(a["tastekIpcApiRoute"].serial_open_error,(e,o)=>{console.log(o)}),this.$ipc.on(a["tastekIpcApiRoute"].serial_close_error,(e,o)=>{console.log(o)})},sendNotification(e){this.$ipc.send(a["tastekIpcApiRoute"].initSerialPort,e)},onOpenPort(){const e=this;1!=e.portopened?e.$refs.ruleForm.validate(o=>{if(!o)return!1;e.$ipc.send(a["tastekSpecialIpcRoute"].open_serial,e.form)}):e.$message.error("串口已打开，请先关闭串口")},onClosePort(){this.$ipc.send(a["tastekSpecialIpcRoute"].close_serial,this.form)},onGetAllPort(){this.sendNotification(1)}}},i=l,c=(t("eb0e"),t("2877")),p=Object(c["a"])(i,r,s,!1,null,"a0f2b70a",null);o["default"]=p.exports},"6c33":function(e,o,t){},"7e9e":function(e,o,t){"use strict";const r={atsqlitedbOperation:"controller.example.atsqlitedbOperation",initSerialPort:"controller.example.initSerialPort"},s={open_serial_success:"open_serial_success",close_serial_success:"close_serial_success",serial_open_error:"serial_open_error",serial_close_error:"serial_close_error",open_serial:"open_serial",close_serial:"close_serial"};e.exports={tastekSpecialIpcRoute:s,tastekIpcApiRoute:r}},eb0e:function(e,o,t){"use strict";t("6c33")}}]);
//# sourceMappingURL=chunk-7ce07aff.b1d5459b.js.map